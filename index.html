<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AETHER-01 | SCANNER</title>
    <style>
        :root { --neon: #00f2ff; --bg: #050505; }
        body { background: var(--bg); color: var(--neon); font-family: 'Courier New', monospace; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Camera & Capture Container */
        #viewport { position: relative; height: 45%; border-bottom: 2px solid var(--neon); background: #000; }
        video, canvas { width: 100%; height: 100%; object-fit: cover; position: absolute; top:0; left:0; }
        canvas { display: none; border: 2px solid #fff; } /* The Captured Photo */

        /* Buttons Area */
        .tools { display: flex; justify-content: center; gap: 20px; padding: 10px; background: #111; }
        .btn { border: 2px solid var(--neon); background: none; color: var(--neon); padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .cap-btn { background: var(--neon); color: #000; box-shadow: 0 0 15px var(--neon); }

        #terminal { flex: 1; padding: 15px; overflow-y: auto; font-size: 13px; background: #0a0a0a; }
        .log { margin-bottom: 5px; border-left: 2px solid #222; padding-left: 8px; }
        .input-box { padding: 10px; background: #000; display: flex; }
        input { flex: 1; background: #111; border: 1px solid var(--neon); color: #fff; padding: 12px; outline: none; }
    </style>
</head>
<body>

<div id="viewport">
    <video id="lens" autoplay playsinline muted></video>
    <canvas id="photo"></canvas> </div>

<div class="tools">
    <button class="btn cap-btn" onclick="takePhoto()">CLICK PHOTO</button>
    <button class="btn" onclick="resetLens()">RESET</button>
</div>

<div id="terminal">
    <div class="log">> AETHER-01: SYSTEM READY...</div>
</div>

<div class="input-box">
    <input type="text" id="userInput" placeholder="Ask a question..." onkeypress="if(event.key==='Enter') process()">
</div>

<script>
    const video = document.getElementById('lens');
    const canvas = document.getElementById('photo');
    const term = document.getElementById('terminal');

    // Start Camera
    navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } })
        .then(s => video.srcObject = s);

    function takePhoto() {
        // Set canvas size to match video
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        
        // Draw the current video frame onto the canvas
        canvas.getContext('2d').drawImage(video, 0, 0);
        
        // Show photo, hide video
        canvas.style.display = 'block';
        video.style.visibility = 'hidden';
        
        addLog("[ SYSTEM ] PHOTO CAPTURED. ANALYZING TEXT...", var(--neon));
    }

    function resetLens() {
        canvas.style.display = 'none';
        video.style.visibility = 'visible';
        addLog("[ SYSTEM ] LENS RESET. SCANNING...", "#888");
    }

    function process() {
        const input = document.getElementById('userInput');
        if(!input.value) return;
        addLog("STUDENT: " + input.value, "#ff007a");
        setTimeout(() => addLog("AETHER: Target identified in photo. Answer is 10.", "#00ff88"), 600);
        input.value = "";
    }

    function addLog(txt, color) {
        const d = document.createElement('div');
        d.className = 'log';
        d.style.color = color;
        d.innerText = txt;
        term.appendChild(d);
        term.scrollTop = term.scrollHeight;
    }
</script>

</body>
</html>
